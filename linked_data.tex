%%=============================================================================
%% Methodologie
%%=============================================================================

\chapter{\IfLanguageName{dutch}{Linked data}{Linked data}}%
\label{ch:linked_data}

%% TODO: In dit hoofstuk geef je een korte toelichting over hoe je te werk bent
%% gegaan. Verdeel je onderzoek in grote fasen, en licht in elke fase toe wat
%% de doelstelling was, welke deliverables daar uit gekomen zijn, en welke
%% onderzoeksmethoden je daarbij toegepast hebt. Verantwoord waarom je
%% op deze manier te werk gegaan bent.
%% 
%% Voorbeelden van zulke fasen zijn: literatuurstudie, opstellen van een
%% requirements-analyse, opstellen long-list (bij vergelijkende studie),
%% selectie van geschikte tools (bij vergelijkende studie, "short-list"),
%% opzetten testopstelling/PoC, uitvoeren testen en verzamelen
%% van resultaten, analyse van resultaten, ...
%%
%% !!!!! LET OP !!!!!
%%
%% Het is uitdrukkelijk NIET de bedoeling dat je het grootste deel van de corpus
%% van je bachelorproef in dit hoofstuk verwerkt! Dit hoofdstuk is eerder een
%% kort overzicht van je plan van aanpak.
%%
%% Maak voor elke fase (behalve het literatuuronderzoek) een NIEUW HOOFDSTUK aan
%% en geef het een gepaste titel.
\section{Inleiding}
De web scraping leverde gegevens zoals titel, auteurs, naam van tijdschrift en jaartal van de publicatie op. Deze informatie heeft echter geen garantie van uniciteit. Dat is te wijten aan mogelijke varianten (zoals bijvoorbeeld afkortingen) in de titel, auteurs en naam van tijdschriften.\\
Nochtans moet een publicatie uniek ge√Ødentificeerd kunnen worden teneinde ze aan IMIS toe te voegen.
De DOI vormt de unieke indentifier van elke publicatie. Er zal getracht worden om deze voor elke publicatie op te zoeken. Hiervoor worden 3 afzonderlijke bronnen geraadpleegd in chronologische volgorde en zolang de DOI niet gevonden werd:
\begin{itemize}
    \item In de URL van de link naar de originele publicatie
    \item Aan de hand van een opzoeking in Crossref op basis van titel, auteurs, naam van tijdschrift en jaartal
    \item Op de oorspronkelijke webpagina van de publicatie
\end{itemize}

\section{De DOI opzoeken in de URL}
De web scraping vond ook de URL naar de webpagina van de oorspronkelijke publicatie. Empirisch valt het op dat veel van die URLs opgebouwd zijn met de DOI van de publicatie.\\
Alle DOIs hebben dezelfde structuur: ze beginnen met het cijfer 10, gevolgd door een punt en 4 tot 9 cijfers, daarna volgt een slash. Verder kan elke willekeurige opeenvolging van letters, cijfers, speciale tekens en slashes voorkomen.
De volgende lijst reguliere expressies is aanbevolen om DOIs op te zoeken \textcite{CrossrefRegex2025}:
\begin{itemize}
    \item \texttt{/\textasciicircum10.\textbackslash d{4,9}/[-.\_;()/:A-Z0-9]+\$/i}
    \item \texttt{/\textasciicircum10.1002/[\textasciicircum\textbackslash s]+\$/i}
    \item \texttt{/\textasciicircum10.\textbackslash d{4}/\textbackslash d+-\textbackslash d+X?(\textbackslash d+)\textbackslash d+<[\textbackslash d\textbackslash w]+:[\textbackslash d\textbackslash w]*>\textbackslash d+.\textbackslash d+.\textbackslash w+;\textbackslash d\$/i}
    \item \texttt{/\textasciicircum10.1021/\textbackslash w\textbackslash w\textbackslash d++\$/i}
    \item \texttt{/\textasciicircum10.1207/[\textbackslash w\textbackslash d]+\textbackslash \&\textbackslash d+\_\textbackslash d+\$/i}
\end{itemize}
Indien 1 van deze reguliere expressies matcht met de URL, dan is de DOI gevonden.
\section{De DOI opzoeken in Crossref}
Indien de voorgaande stap geen DOI opleverde, dan wordt hier op basis van titel, auteurs, naam van tijdschrift en jaartal een opzoeking van de DOI gedaan in Crossref. 
Daarvoor kan er gewerkt worden met meerdere onafhankelijke Python bibliotheken:
\begin{itemize}
    \item Crossref Commons for Python \autocite{Crossrefcommons2025}
    \item Habanero \autocite{Habanero2025}
    \item Crossrefapi \autocite{Crossrefapi2025}
\end{itemize}
Al deze bibliotheken bieden dezelfde tools en presteren gelijkaardig. Zonder bijzondere reden, behalve dat Crossref Commons ontwikkeld wordt door Crossref zelf, wordt er met Crossref Commons for Python gewerkt. De code om een entity op te vragen is bijzonder compact zoals te zien in \ref{code:Crossref commons}
\begin{listing}
    \begin{minted}{python}
        response = crossref_commons.retrieval.get_publication_as_json(doi)
    \end{minted}
    \caption[Crossref commons codefragment]{Codefragment voor opvragen van de metadata van een publicatie aan Crossref.}
    \label{code:Crossref commons}
\end{listing}
Indien de Crossref API een resultaat geeft, dan is de DOI gevonden.
\section{De DOI opzoeken op de webpagina van de publicatie}
Indien de voorgaande stap geen DOI opleverde, dan wordt het DOI gezocht op de webpagina van de publicatie. In de meeste gevallen is dat op de website van de uitgever van het tijdschrift. Op die pagina staan altijd de titel, auteurs, naam van het tijdschrift, jaartal en abstract van de publicatie.
Soms staat ook de DOI op die pagina.
In sommige gevallen is de integrale tekst van de publicatie hier beschikbaar als HTML of PDF document.\\
Het formaat van de pagina kan verschillende zijn:
\begin{itemize}
    \item Een gewone HTML pagina
    \item Een PDF document
    \item Een webpagina met een embedded PDF document
\end{itemize}
Voor elk van de 3 gevallen is er een andere verwerking nodig:
\begin{itemize}
    \item In het geval van een HTML pagina wordt de inhoud geparsed met Beautiful Soup net zoals dat eerder gebeurde voor de SERP. Vervolgens wordt een DOI opgezocht in de inhoud door middel van de reguliere expressies.
    \item In het geval van een PDF document is er een extra tussenstap nodig. De inhoud moet gelezen worden met gebruik van \autocite{Pymupdf2025}. Voorbeeld in codefragment \ref{code:pymupdf}.
    \begin{listing}
        \begin{minted}{python}
            doc = pymupdf.Document(stream=pdf)
            # Extract all Document Text
            text = chr(12).join([page.get_text() for page in doc])
        \end{minted}
        \caption[Pymupdf codefragment]{Codefragment voor het openen van een online pdf.}
        \label{code:pymupdf}
    \end{listing}
    Daarna wordt er ook gezocht adhv. de reguliere expressies.
    \item In het geval van een embedded PDF is de inhoud niet onmiddellijk beschikbaar. De gebruiker moet als het ware nog een handeling verrichten (vb. op een knop klikken) alvorens toegang te krijgen tot de inhoud. Dat gaat niet voor een script, maar door middel van Selenium \autocite{Selenium2025} kan de embedded content automatisch gedownload worden. Eenmaal gedownload kan het bestand gewoon geopend worden en doorzocht worden naar een DOI op dezelfde manier als voor PDF documenten.
\end{itemize}
Er is geen garantie dat de DOI op de webpagina van de publicatie gevonden wordt. Anderzijds is het ook mogelijk dat er meerdere verschillende DOIs gevonden worden. Voor een mens is het vaak evident om te weten welke DOI dan juist is, maar voor geautomatiseerd script is daar geen context voor.\\
Er kan dus besloten worden dat de DOI met grote zekerheid achterhaald kan worden op basis van de URL of adhv. Crossref. In het geval van een opzoeking op de webpagina van de publicatie is de vindkans een pak kleiner.

